{"version":3,"sources":["./src/app/notificaciones/notificaciones.page.html","./src/app/notificaciones/notificaciones-routing.module.ts","./src/app/notificaciones/notificaciones.module.ts","./src/app/notificaciones/notificaciones.page.scss","./src/app/notificaciones/notificaciones.page.ts"],"names":[],"mappings":"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","file":"notificaciones-notificaciones-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"toolhead\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Notificaciones</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <ion-list lines=\\\"full\\\">\\n    <button style=\\\"width: 100%;\\\">\\n      <ion-item (click)=\\\"alertDetalle(i)\\\" *ngFor=\\\"let list of listNotificaciones;let i = index\\\" [attr.data-index]=\\\"i\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-img [src]=\\\"list.imagen\\\"></ion-img>\\n        </ion-avatar>\\n        <ion-label>\\n          <h3>{{list.titulo}}</h3>\\n          <p>{{list.descripcion}}</p>\\n          <p>{{list.fecha}}</p>\\n        </ion-label>\\n      </ion-item>\\n    </button>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificacionesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificacionesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificacionesPageRoutingModule } from './notificaciones-routing.module';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificacionesPageRoutingModule\n  ],\n  declarations: [NotificacionesPage]\n})\nexport class NotificacionesPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdGlmaWNhY2lvbmVzL25vdGlmaWNhY2lvbmVzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { AppComponent } from '../app.component';\nimport * as $ from \"jquery\";\nimport { environment } from '../../environments/environment';\n\n@Component({\n  selector: 'app-notificaciones',\n  templateUrl: './notificaciones.page.html',\n  styleUrls: ['./notificaciones.page.scss'],\n})\nexport class NotificacionesPage{\n\n  private listNotificaciones = []\n  constructor(private App: AppComponent, private alertController: AlertController, private router: Router) { }\n\n\n  ionViewDidEnter() {\n    this.listNotificaciones = []\n    if (this.App.id_User != null) {\n      this.getNotificaciones();\n    }\n  }\n\n  async getNotificaciones() {\n    var self = this;\n    var data = {\n      \"id\": this.App.id_User\n    }\n    await $.post(environment.url + \"/api/notificaciones_participante/\", data).done(function (notificacion) {\n      if (!notificacion.error) {\n        self.listNotificaciones = notificacion.notificaciones\n        for (let i = 0; i < self.listNotificaciones.length; i++) {\n          self.listNotificaciones[i].imagen = environment.url + self.listNotificaciones[i].imagen\n        }\n      }\n      else {\n        self.alertNotificacion('Sin Notificaciones', notificacion.mensaje)\n      }\n\n    })\n\n  }\n\n  async alertNotificacion(msg: string, mensaje: string) {\n    const alert = await this.alertController.create({\n      header: msg,\n      message: mensaje,\n      buttons: ['OK']\n    });\n\n    await alert.present();\n  }\n\n  remover(id_notificacion) {\n    var self=this;\n    let data = {\n      \"id_notificacion_participante\": id_notificacion,\n      \"estado\":false\n    }\n\n    $.ajax({\n      url: environment.url + \"/api/actualizar_notificacion/\",\n      data: data,\n      type: 'PATCH',\n      success: function (notificacion) {\n        if (!notificacion.error) {\n          self.alertNotificacion(\"NotificaciÃ³n eliminada\", notificacion.mensaje)\n        }\n        else {\n          self.alertNotificacion(\"Error\", notificacion.mensaje)\n        }\n      }\n    });\n\n  }\n\n\n\n  async alertDetalle(index) {\n    const alert = await this.alertController.create({\n      buttons: [{ text: 'Remover', handler: () => { this.remover(this.listNotificaciones[index].id_notificacion_participante) } }, { text: 'Cerrar' }],\n      message: `\n    <img src=\"${this.listNotificaciones[index].imagen}\" style=\"width:80%; height:80%; border-radius: 2px\">\n    <ion-item>\n      <ion-text> <b>${this.listNotificaciones[index].titulo} </b> </ion-text>\n    </ion-item>\n    <ion-item>\n      <ion-text> ${this.listNotificaciones[index].descripcion} </ion-text>\n    </ion-item>`,\n\n    });\n    await alert.present();\n  }\n\n\n}\n"],"sourceRoot":"webpack:///"}