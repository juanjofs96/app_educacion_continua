{"version":3,"sources":["./src/app/notificaciones/notificaciones.page.html","./src/app/notificaciones/notificaciones-routing.module.ts","./src/app/notificaciones/notificaciones.module.ts","./src/app/notificaciones/notificaciones.page.scss","./src/app/notificaciones/notificaciones.page.ts"],"names":[],"mappings":"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","file":"notificaciones-notificaciones-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar class=\\\"toolhead\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>Notificaciones</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <ion-list lines=\\\"full\\\">\\r\\n    <button style=\\\"width: 100%;\\\">\\r\\n      <ion-item (click)=\\\"alertDetalle(i)\\\" *ngFor=\\\"let list of listNotificaciones;let i = index\\\" [attr.data-index]=\\\"i\\\">\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <ion-img [src]=\\\"list.imagen\\\"></ion-img>\\r\\n        </ion-avatar>\\r\\n        <ion-label>\\r\\n          <h3>{{list.titulo}}</h3>\\r\\n          <p>{{list.descripcion}}</p>\\r\\n          <p>{{list.fecha}}</p>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n    </button>\\r\\n  </ion-list>\\r\\n</ion-content>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { NotificacionesPage } from './notificaciones.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: NotificacionesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class NotificacionesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { NotificacionesPageRoutingModule } from './notificaciones-routing.module';\r\n\r\nimport { NotificacionesPage } from './notificaciones.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    NotificacionesPageRoutingModule\r\n  ],\r\n  declarations: [NotificacionesPage]\r\n})\r\nexport class NotificacionesPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL25vdGlmaWNhY2lvbmVzL25vdGlmaWNhY2lvbmVzLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { AppComponent } from '../app.component';\r\nimport * as $ from \"jquery\";\r\nimport { environment } from '../../environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-notificaciones',\r\n  templateUrl: './notificaciones.page.html',\r\n  styleUrls: ['./notificaciones.page.scss'],\r\n})\r\nexport class NotificacionesPage{\r\n\r\n  private listNotificaciones = []\r\n  constructor(private App: AppComponent, private alertController: AlertController, private router: Router) { }\r\n\r\n\r\n  ionViewDidEnter() {\r\n    this.listNotificaciones = []\r\n    if (this.App.id_User != null) {\r\n      this.getNotificaciones();\r\n    }\r\n  }\r\n\r\n  async getNotificaciones() {\r\n    var self = this;\r\n    var data = {\r\n      \"id\": this.App.id_User\r\n    }\r\n    await $.post(environment.url + \"/api/notificaciones_participante/\", data).done(function (notificacion) {\r\n      if (!notificacion.error) {\r\n        self.listNotificaciones = notificacion.notificaciones\r\n        for (let i = 0; i < self.listNotificaciones.length; i++) {\r\n          self.listNotificaciones[i].imagen = environment.url + self.listNotificaciones[i].imagen\r\n        }\r\n      }\r\n      else {\r\n        self.alertNotificacion('Sin Notificaciones', notificacion.mensaje)\r\n      }\r\n\r\n    })\r\n\r\n  }\r\n\r\n  async alertNotificacion(msg: string, mensaje: string) {\r\n    const alert = await this.alertController.create({\r\n      header: msg,\r\n      message: mensaje,\r\n      buttons: ['OK']\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  remover(id_notificacion) {\r\n    var self=this;\r\n    let data = {\r\n      \"id_notificacion_participante\": id_notificacion,\r\n      \"estado\":false\r\n    }\r\n\r\n    $.ajax({\r\n      url: environment.url + \"/api/actualizar_notificacion/\",\r\n      data: data,\r\n      type: 'PATCH',\r\n      success: function (notificacion) {\r\n        if (!notificacion.error) {\r\n          self.alertNotificacion(\"NotificaciÃ³n eliminada\", notificacion.mensaje)\r\n        }\r\n        else {\r\n          self.alertNotificacion(\"Error\", notificacion.mensaje)\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  async alertDetalle(index) {\r\n    const alert = await this.alertController.create({\r\n      buttons: [{ text: 'Remover', handler: () => { this.remover(this.listNotificaciones[index].id_notificacion_participante) } }, { text: 'Cerrar' }],\r\n      message: `\r\n    <img src=\"${this.listNotificaciones[index].imagen}\" style=\"width:80%; height:80%; border-radius: 2px\">\r\n    <ion-item>\r\n      <ion-text> <b>${this.listNotificaciones[index].titulo} </b> </ion-text>\r\n    </ion-item>\r\n    <ion-item>\r\n      <ion-text> ${this.listNotificaciones[index].descripcion} </ion-text>\r\n    </ion-item>`,\r\n\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}